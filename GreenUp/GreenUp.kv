#:kivy 1.8.0

<LoginScreen>:
    username: usr
    password: passwd
    error: err
    
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size
            
    BoxLayout:
        orientation: 'vertical'
        padding: [0,10,0,30]
        spacing: 5
        Image:
            source: "images/logo.jpg"
            size_hint: [1,0.75]
        Label:
            id: err
            text: "Welcome"
            color: [0,0,0,1]
            size_hint: [1,None]
            height: 40
            font_size: 25
            bold: True
            canvas.before:
                Color:
                    rgba: 0.1,0.7,0.1,1
                Rectangle:
                    pos: self.pos
                    size: self.size
        GridLayout:
            size_hint: [1,2.5]
            cols: 2
            rows: 2
            spacing: 10
            padding: [20,20,20,20]
            row_force_default: True
            row_default_height: 30
            Label:
                text: "Username:"
                halign: "right"
                color: [0,0,0,1]
                size_hint_x: None
                width: 100
                font_size: 18
            TextInput:
                id: usr
                multiline: False
            Label:
                text: "Password:"
                halign: "right"
                color: [0,0,0,1]
                size_hint_x: None
                width: 100
                font_size: 18
            TextInput:
                id: passwd
                password: True
                multiline: False
        AnchorLayout:
            size_hint: [1,1]
            BoxLayout:
                size_hint: [0.5, 1]
                orientation: 'horizontal'
                spacing: 20
                Button:
                    text: 'Login'
                    color: [0,0,0,1]
                    background_color: [1.5,1.5,1.5,1]
                    on_release: root.login_button()
                    size_hint_y: None
                    height: 40
                    font_size: 18
                Button:
                    text: 'Signup'
                    color: [0,0,0,1]
                    background_color: [1.5,1.5,1.5,1]
                    on_release: root.signup_button()
                    size_hint_y: None
                    height: 40
                    font_size: 18

<HomeScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,10,0,30]
        spacing: 5

        Image:
            source: "images/logo.jpg"
            size_hint: [1,0.75]
        Label:
            text: "Hello, %s" % root.userDisplayName
            color: [0,0,0,1]
            size_hint: [1,None]
            height: 40
            font_size: 25
            bold: True
            canvas.before:
                Color:
                    rgba: 0.1,0.7,0.1,1
                Rectangle:
                    pos: self.pos
                    size: self.size
                    
        AnchorLayout:
            size_hint: [1,2.5]
            anchor_x: 'center'
            anchor_y: 'top'
            GridLayout:
                size_hint: [0.75, 1]
                cols: 2
                rows: 2
                padding: [0,20,0,20]
                spacing: 10
                Button:
                    background_normal: "images/waterUp.png"
                    background_down: "images/waterDown.png"
                    on_release: root.button_pressed('Water')
                Button:
                    background_normal: "images/electricUp.png"
                    background_down: "images/electricDown.png"
                    on_release: root.button_pressed('Electricity')
                Button:
                    background_normal: "images/fuelUp.png"
                    background_down: "images/fuelDown.png"
                    on_release: root.button_pressed('Fuel')
                Button:
                    background_normal: "images/recyclingUp.png"
                    background_down: "images/recyclingDown.png"
                    on_release: root.button_pressed('Recycling')
                    
        AnchorLayout:
            size_hint: [1,1]
            anchor_x: 'center'
            anchor_y: 'bottom'
            BoxLayout:
                size_hint: [0.85, 1]
                orientation: 'horizontal'
                padding: [0,10,0,10]
                spacing: 10
                Button:
                    background_normal: "images/achievementsUp.png"
                    background_down: "images/achievementsDown.png"
                    on_release: root.button_pressed('Achievements')
                Button:
                    background_normal: "images/profileUp.png"
                    background_down: "images/profileDown.png"
                    on_release: root.button_pressed('Profile')
                Button:
                    background_normal: "images/settingsUp.png"
                    background_down: "images/settingsDown.png"
                    on_release: root.button_pressed('Settings')

<GreenUpBarGraph>
    canvas.before:
        Color:
            rgba: 0, 1, 0, 1
        Rectangle:
            pos: self.pos
            size: self.size

<SettingsScreen>:
    layoutRef: boxlay.__self__
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        id: boxlay
        orientation: 'vertical'
        padding: [10,10,10,0]
        spacing: 5

        BoxLayout:
            size_hint: [1,1]
            orientation: 'horizontal'
            Image:
                source: "images/logo.jpg"
            BoxLayout:
                orientation: 'vertical'
                Label:
                    color: [0,0,0,1]
                    text: root.userDisplayName
                    size_hint: [1,1]
                    height: 30
                    font_size: 30
                Button:
                    text: 'edit'
                    size_hint: [1,None]
                    height: 30
        
        GreenUpBarGraph:
            size_hint: [1,2]
            canvas:
                Color:
                    rgba: 0, 0, 0, 1
                Line:
                    ellipse: [0,0,20,20]
            
        Label:
            text: "My Groups"
            color: [0,0,0,1]
            size_hint: [1,None]
            height: 30

        AnchorLayout:
            anchor_x: 'right'
            anchor_y: 'bottom'
            Button:
                size_hint: [0.3, 1]
                background_normal: "images/homeUp.png"
                background_down: "images/homeDown.png"
                on_release: root.go_home()
                
<ProfileScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "images/logo.jpg"
            size_hint: [1,1]

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            size_hint: 0.4, 0.2
            background_normal: "images/homeUp.png"
            background_down: "images/homeDown.png"
            on_release: root.go_home()
                
<AchievementsScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "images/logo.jpg"
            size_hint: [1,1]

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            size_hint: 0.4, 0.2
            background_normal: "images/homeUp.png"
            background_down: "images/homeDown.png"
            on_release: root.go_home()
                
<WaterScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "images/logo.jpg"
            size_hint: [1,1]

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            size_hint: 0.4, 0.2
            background_normal: "images/homeUp.png"
            background_down: "images/homeDown.png"
            on_release: root.go_home()
                
<RecyclingScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "images/logo.jpg"
            size_hint: [1,1]

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            size_hint: 0.4, 0.2
            background_normal: "images/homeUp.png"
            background_down: "images/homeDown.png"
            on_release: root.go_home()
                
<ElectricityScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "images/logo.jpg"
            size_hint: [1,1]

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            size_hint: 0.4, 0.2
            background_normal: "images/homeUp.png"
            background_down: "images/homeDown.png"
            on_release: root.go_home()
                
<FuelScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "images/logo.jpg"
            size_hint: [1,1]

    AnchorLayout:
        anchor_x: 'right'
        anchor_y: 'bottom'
        Button:
            size_hint: 0.4, 0.2
            background_normal: "images/homeUp.png"
            background_down: "images/homeDown.png"
            on_release: root.go_home()