#:kivy 1.6.0

<LoginScreen>:
    username: usr
    password: passwd
    error: err

    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 5
        Image:
            source: "logo.jpg"
            size_hint: [1,1]
        Label:
            id: err
            text: "Welcome"
            color: [0,0,0,1]
            size_hint: [1,0.5]
            font_size: 30
        GridLayout:
            size_hint: [1,3]
            cols: 2
            rows: 2
            padding: [50,20,50,20]
            spacing: 10
            row_force_default: True
            row_default_height: 40
            Label:
                text: "Username"
                halign: "right"
                font_size: 20
                color: [0,0,0,1]
            TextInput:
                id: usr
                multiline: False
            Label:
                text: "Password"
                halign: "right"
                font_size: 20
                color: [0,0,0,1]
            TextInput:
                id: passwd
                password: True
                multiline: False
        AnchorLayout:
            size_hint: [1,1]
            Button:
                size_hint_x: 0.3
                text: 'Login'
                font_size: 20
                color: [0,0,0,1]
                background_color: [1.5,1.5,1.5,1]
                on_release: root.button_clicked()

<HomeScreen>:
    canvas.before:
        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:
        orientation: 'vertical'
        padding: [0,20,0,20]
        spacing: 0

        Image:
            source: "logo.jpg"
            size_hint: [1,1]

        Label:
            text: "Hello, %s" % root.username
            font_size: 30
            size_hint: [1,0.5]
            color: [0,0,0,1]
            bold: True
            canvas.before:
                Color:
                    rgba: 0.1,0.7,0.1,1
                Rectangle:
                    pos: self.pos
                    size: self.size
        
        Label:
            text: app.gps_location
            color: [0,0,0,1]

        Label:
            text: app.gps_status
            color: [0,0,0,1]

        BoxLayout:
            size_hint_y: None
            height: '48dp'
            padding: '4dp'  
            ToggleButton:
                text: 'Start' if self.state == 'normal' else 'Stop'
                on_state: app.gps.start() if self.state == 'down' else app.gps.stop()
            
        BoxLayout:
            size_hint: [1,1]
            orientation: 'horizontal'
            padding: [50,10,50,10]
            spacing: 10
            Button:
                background_color: [10,1,1,1]
                text: 'Achievements'
                font_size: 20
                color: [0,0,0,1]
            Button:
                background_color: [10,1,1,1]
                text: 'Profile'
                font_size: 20
                color: [0,0,0,1]
            Button:
                background_color: [10,1,1,1]
                text: 'Settings'
                font_size: 20
                color: [0,0,0,1]
            
